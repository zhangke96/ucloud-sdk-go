//Code is generated by ucloud code generator, don't modify it by hand, it will cause undefined behaviors.
//go:generate ucloud-gen-go-api UDataArk DescribeUhostTmMeta

package udataark

import (
	"github.com/ucloud/ucloud-sdk-go/ucloud/request"
	"github.com/ucloud/ucloud-sdk-go/ucloud/response"
)

// DescribeUhostTmMetaRequest is request schema for DescribeUhostTmMeta action
type DescribeUhostTmMetaRequest struct {
	request.CommonBase

	// 可用区。参见 [可用区列表](../summary/regionlist.html)
	Zone *string `required:"true"`

	// 本地盘主机填主机Id,网盘主机填系统盘id
	UhostId *string `required:"true"`
}

// DescribeUhostTmMetaResponse is response schema for DescribeUhostTmMeta action
type DescribeUhostTmMetaResponse struct {
	response.CommonBase

	// JSON 格式的Snapshot列表, 详细参见DiskDataArkStatus
	DataSet []DiskUDataArkStatus

	// 总备份的大小(byte)
	UtmSize int

	// "normal" 正常状态 ，"in_init" 初始化中
	UtmStatus string

	// "enable" 可以Clone，"disable" 不能Clone
	CloneAble string
}

// NewDescribeUhostTmMetaRequest will create request of DescribeUhostTmMeta action.
func (c *UDataArkClient) NewDescribeUhostTmMetaRequest() *DescribeUhostTmMetaRequest {
	req := &DescribeUhostTmMetaRequest{}
	c.Client.SetupRequest(req)
	return req
}

// DescribeUhostTmMeta - 获取主机方舟状态，判断方舟是否可用
func (c *UDataArkClient) DescribeUhostTmMeta(req *DescribeUhostTmMetaRequest) (*DescribeUhostTmMetaResponse, error) {
	var err error
	var res DescribeUhostTmMetaResponse

	err = c.Client.InvokeAction("DescribeUhostTmMeta", req, &res)
	if err != nil {
		return &res, err
	}

	return &res, nil
}
